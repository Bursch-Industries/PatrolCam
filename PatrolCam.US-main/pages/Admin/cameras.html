<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surveillance</title>
    <link rel="stylesheet" href="camera_page.css">
    <link rel="stylesheet" href="login-modal.css">
    <script src="../FrontEndJavaScript/camera-grid.js" defer></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="../../FrontEndJavaScript/fetchNavbar.js" defer></script>
</head>
<body>
    <header id="navbar"></header>

    <div class="grid-container" id="grid-container">
        <iframe src="https://www.youtube.com/embed/MtN1YnoL46Q" title="Video 1" frameborder="0" allowfullscreen></iframe>
        <iframe src="https://www.youtube.com/embed/7jjcAuEYW9M" title="Video 2" frameborder="0" allowfullscreen></iframe>
        <iframe src="https://www.youtube.com/embed/Ru4a-js4My4" title="Video 3" frameborder="0" allowfullscreen></iframe>
        <iframe src="https://www.youtube.com/embed/jzk2E4UXFFs" title="Video 4" frameborder="0" allowfullscreen></iframe>
    </div>

    <script>
        // Listen for the navbarLoaded event to add the dropdown
        document.addEventListener('navbarLoaded', () => {
            const dropdownHTML = `
            <div class="dropdown">
                <button id="grid-icon" class="grid-icon-btn">â˜°</button>
                <div class="dropdown-content">
                    <a href="#" data-camera="all">All</a>
                    <a href="#" data-camera="1">Camera 1</a>
                    <a href="#" data-camera="2">Camera 2</a>
                    <a href="#" data-camera="3">Camera 3</a>
                    <a href="#" data-camera="4">Camera 4</a>
                </div>
            </div>
        `;

            // Insert the dropdown before the profile picture
            const navbar = document.getElementById('navbar');
            const profileIcon = document.getElementById('profileIcon');
            if (profileIcon) {
                profileIcon.insertAdjacentHTML('beforebegin', dropdownHTML);
            } else {

                navbar.insertAdjacentHTML('beforeend', dropdownHTML);
            }

            // Add event listener to each dropdown link to change camera view
            document.querySelectorAll(".dropdown-content a").forEach(link => {
                link.addEventListener("click", (event) => {
                    event.preventDefault();
                    const selectedCamera = event.target.dataset.camera;
                    showCameraView(selectedCamera);
                });
            });
        });

    </script>
    
</body>
</html>
